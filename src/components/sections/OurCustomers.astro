---
import { Image } from 'astro:assets';

// Import all customer logos
const logoModules = import.meta.glob<{ default: ImageMetadata }>('../../assets/our-customer/*.{png,jpg,jpeg}', { eager: true });

// Create a map of filename to image module
const logoMap: Record<string, ImageMetadata> = {};
Object.entries(logoModules).forEach(([path, module]) => {
  const filename = path.split('/').pop() || '';
  logoMap[filename] = module.default;
});

// Urutan sesuai design dari kiri ke kanan, atas ke bawah
const customers = [
  // Row 1
  { name: 'Universitas Negeri Malang', logo: logoMap['UNIVERSITAS NEGERI MALANG.png'] },
  { name: 'Universitas Muhammadiyah Malang', logo: logoMap['UNIVERSITAS MUHAMMADIYAH MALANG.png'] },
  { name: 'Universitas Brawijaya', logo: logoMap['UNIVERSITAS BRAWIJAYA.png'] },
  { name: 'UIN Maliki Malang', logo: logoMap['UIN MALIKI MALANG.png'] },
  { name: 'AZ Zahra Group', logo: logoMap['AZ ZAHRA GROUP.png'] },
  { name: 'SMAK St Albertus Dempo Malang', logo: logoMap['SMAK ST ALBERTUS DEMPO MALANG.png'] },
  // Row 2
  { name: 'FILKOM UB', logo: logoMap['FILKOM UB.png'] },
  { name: 'Yayasan Pendidikan Ananda Bagan Batu', logo: logoMap['YAYASAN PENDIDIKAN ANANDA BAGAN BATU.jpeg'] },
  { name: 'IIBS Thursina', logo: logoMap['IIBS THURSINA.png'] },
  { name: 'SMK Kesehatan Madani Indonesia', logo: logoMap['SMK KESEHATAN MADANI INDONESIA.png'] },
  { name: 'AL-RIFAIE', logo: logoMap['AL-RIFAIE.png'] },
  // Row 3
  { name: 'Wissnu Amanatul Ummah', logo: logoMap['WISSNU AMANATUL UMMAH.png'] },
  { name: 'KB-BA Restu Malang', logo: logoMap['KB-BA RESTU MALANG.jpeg'] },
  { name: 'PG Kebon Agung', logo: logoMap['PG KEBON AGUNG.png'] },
  { name: 'Ilmu Komunikasi UMM', logo: logoMap['ILKOM UMM.jpg'] },
  // Row 4
  { name: 'Universitas Wisnuwardhana', logo: logoMap['UNIVERSITAS WISNUWARDHANA.png'] },
  { name: 'Sekolah Dasar Islam Mohammad Hatta', logo: logoMap['SEKOLAH DASAR ISLAM MOHAMMAD HATTA.png'] },
  { name: 'Pesantren Teknologi Majapahit', logo: logoMap['PESANTREN TEKNOLOGI MAJAPAHIT.jpg'] },
  { name: 'Yayasan Darullughah Waddawah', logo: logoMap['YAYASAN DARULLUGHAH WADDAWAH.png'] },
  { name: 'TPQ Nurul Huda Malang', logo: logoMap['TPQ NURUL HUDA MALANG.jpeg'] },
  { name: 'MI Hasyim Asyari', logo: logoMap['MI HASYIM ASYARI.jpeg'] },
  // New additions
  { name: 'BPJS Kesehatan', logo: logoMap['new-1.png'] },
  { name: 'Sekolah Islam Ibnu Hajar', logo: logoMap['new-2.jpg'] },
  { name: 'SMP Negeri 2 Pandaan', logo: logoMap['new-3.png'] },
];
---

<section id="our-customers" class="py-20 lg:py-28 bg-white">
  <div class="container mx-auto px-4 lg:px-8">
    <!-- Title -->
    <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-center text-gray-900 mb-4">
      OUR CUSTOMERS
    </h2>

    <!-- Subtitle -->
    <p class="text-center text-gray-900 mb-12 text-base md:text-lg font-medium">
      Narafashion Telah Dipercaya Sejak Tahun 2008
    </p>

    <!-- Logo Grid -->
    <div class="grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6 lg:gap-8 items-center justify-items-center">
      {customers.map((customer) => (
        <div class="flex items-center justify-center p-4 h-24 md:h-28 lg:h-32 w-full">
          <Image
            src={customer.logo}
            alt={customer.name}
            width={150}
            height={100}
            class="max-h-full max-w-full object-contain filter hover:scale-110 transition-transform duration-300"
            loading="lazy"
            title={customer.name}
          />
        </div>
      ))}
    </div>
  </div>
</section>
